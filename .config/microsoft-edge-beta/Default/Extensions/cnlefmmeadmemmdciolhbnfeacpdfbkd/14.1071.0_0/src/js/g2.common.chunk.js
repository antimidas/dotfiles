(self.webpackChunk=self.webpackChunk||[]).push([[274],{50198:(e,i,t)=>{t.r(i),t.d(i,{G2FeatureImpl:()=>Ie});var r=t(27378),n=t(14601),a=t(77176),s=t(98403),l=t(23239),d=t(57050),o=t(20236),c=t(55649),h=t(13718),p=t(19751),g=t(5114),u=t(62874),m=t(14505),w=t(89456),v=t(81964);class S{constructor(e){this._params=e,this._subs=new n.w,this._emphasizedParagraph=l.h.create(g.YP),this._paragraphById=l.h.create(new Map),this.paragraphs=this._params.paragraphHighlightService.highlights.view((e=>e.map((e=>({id:e.meta.paragraphId,text:e.meta.paragraphText,textRange:e.meta.paragraphTextRange,highlightRects:e.rects}))))),this.emphasizedParagraph=this._emphasizedParagraph.view(),this._subs.add(this._params.mouseData.pipe(h.U(u.S.hz30),p.skipBy(m.Z.eq),a.U((({client:e,offset:i})=>e&&i&&(0,v._N)(e,this._params.textFieldElement)?(0,d.zG)(g.ij(this.paragraphs.get().find((e=>e.highlightRects.some((e=>w.UL.contains(i,e))))))):g.YP))).subscribe(s.wW(this._emphasizedParagraph))),this._subs.add(this.paragraphs.pipe(a.U((e=>e.reduce(((e,i)=>e.set(i.id,i)),new Map)))).subscribe(s.wW(this._paragraphById)))}getParagraphById(e){return g.ij(this._paragraphById.get().get(e))}dispose(){this._subs.unsubscribe()}}const f=r.lazy((()=>Promise.all([t.e(1125),t.e(2204),t.e(4255),t.e(274)]).then(t.bind(t,30494)).then((({ParagraphHighlightCollection:e})=>({default:e}))))),_=r.lazy((()=>Promise.all([t.e(1125),t.e(2204),t.e(4255),t.e(274)]).then(t.bind(t,65211)).then((({SidelineCollection:e})=>({default:e})))));var b=t(32952),C=t(66310),R=t(2844),y=t(85985),I=t(23063),x=t(17343),E=t(97425),T=t(76974),k=t(48015),M=t(68435),F=t(52423);var L=t(36991);function z(e){return e.trim().split(/\s+/).filter((e=>""!==e)).length}function P(e,i){return e.map((e=>function(e,i){return(0,d.zG)(e.transformJSON.alternatives,g.UI((({alternatives:e,context:i})=>({alternative:e[0],context:i[0]}))),g.UI((({alternative:e,context:i})=>({ops:e.ops,context:i}))),g.UI((({ops:t,context:r})=>{let n=r.s,a=0;for(const e of t)L.s.match((e=>{L.s.isInsertString(e)&&(a+=z(e.insert),n+=e.insert.length)}),(e=>{const t=n+e.delete;a+=z(i.slice(n,t)),n=t}),(e=>{n+=e.retain}))(e);return a*((s=e.patternName).includes("MissingSpace")||s.includes("RedundantSpace")||s.includes("Clarity")||s.includes("Punctuation")?.5:s.includes("Formatting")||s.includes("Passive")||s.includes("Dialects")?.25:s.includes("Calliope")?.75:s.includes("Tone")||s.includes("Engagement")?.1:s.includes("RunOn")?2:s.includes("Style")?.5:s.includes("Fluency")||s.includes("FluencyRewrite")?.25:1);var s})),g.fS((()=>0)))}(e,i))).reduce(((e,i)=>e+i),0)}function G(e,i,t){if(e.text.length<50)return"none";const r=function(e,i){return e.filter((e=>e.transformJSON.highlights.some((e=>e.s>=i.start&&e.e<=i.end))))}(i,e.textRange);if(r.some((e=>e.patternName.startsWith("WritingExpert"))))return"purple";const n=P(r.filter((e=>!e.patternName.startsWith("WritingExpert"))),t),a=(s=e.text,Math.max(5,Math.min(10,z(s)/10)));var s;return Math.round(n)>=a?"red":"none"}class N{constructor(e){this._params=e,this._subs=new n.w,this._logger=c.Y.create("SidelineCollectionViewModelImpl"),this._sidelines=l.h.create([]),this._sidelineById=l.h.create(new Map),this._emphasizedSideline=l.h.create(g.YP),this._activeSideline=l.h.create(g.YP),this._pinnedSideline=l.h.create(g.YP),this._referenceElementBySidelineId=new Map,this._sidelineCardActiveNotifications=new b.xQ,this._deactivateSidelineSubs=new n.w,this._unpinSidelineSubs=new n.w,this.sidelines=this._sidelines.view(),this.emphasizedSideline=this._emphasizedSideline.view(),this.activeSideline=this._activeSideline.view(),this.pinnedSideline=this._pinnedSideline.view(),this._subs.add(this._params.paragraphService.paragraphs.pipe(C.w((e=>R.aj([this._params.integration.textFieldDOMRectTopLeft,this._params.textFieldLayout.rect.behavior.pipe(a.U((e=>e.client))),this._params.textFieldLayout.scroll.behavior,this._params.alerts]).pipe(a.U((([i,t,r,n])=>e.map((e=>{const a=function(e,i,t,r,n,a){const s=`g2-sideline-${e.textRange.start}-${e.textRange.end}`,l=(0,M.jr)(e.highlightRects);if(null===l)return null;const d={kind:"offsetPoint",...l},o=(0,F.Z)(d,i,t),c=G(e,n,a);return{id:s,paragraphId:e.id,anchorRect:o,textFieldDOMRectTopLeft:r,signalColor:c}}(e,t,r,i,n,this._params.textObserver.getCurrentTextMap().getPlainText());return null===a?(this._logger.warn("Failed to create sideline for paragraph; skipping.",{paragraph:e}),null):a})).filter(k.Nf))))))).subscribe(s.wW(this._sidelines))),this._subs.add(this._sidelines.pipe(a.U((e=>e.reduce(((e,i)=>e.set(i.id,i)),new Map)))).subscribe(s.wW(this._sidelineById)))}_doesSidelineIdMatchRelevantSideline(e,i){return(0,d.zG)(i,g.g_((()=>!1),(i=>e===i.id)))}_getSidelineById(e){return g.ij(this._sidelineById.get().get(e))}_deactivateSideline(e,i=!1){this._logger.debug("Deactivating sideline.",{sidelineId:e}),this._doesSidelineIdMatchRelevantSideline(e,this._activeSideline.get())?this._deactivateSidelineSubs=this._sidelineCardActiveNotifications.pipe(y.h((i=>i===e)),I.q(1),x.h(!1),E.L(i?0:1e3,T.of(!0))).subscribe((i=>{i?(this._logger.debug("Did not receive notification that corresponding sideline card is active, proceeding to deactivate sideline.",{sidelineId:e}),this._activeSideline.set(g.YP)):this._logger.debug("Received a notification that corresponding sideline card is active, won't deactivate sideline.",{sidelineId:e})})):this._logger.warn("Tried to deactivate sideline that is not active, this is a no-op.",{sidelineId:e})}_unpinSideline(e,i=!1){this._logger.debug("Unpinning sideline.",{sidelineId:e}),this._doesSidelineIdMatchRelevantSideline(e,this._pinnedSideline.get())?this._unpinSidelineSubs=this._sidelineCardActiveNotifications.pipe(y.h((i=>i===e)),I.q(1),x.h(!1),E.L(i?0:1e3,T.of(!0))).subscribe((i=>{i?(this._logger.debug("Did not receive notification that corresponding sideline card is active, proceeding to unpin sideline.",{sidelineId:e}),this._pinnedSideline.set(g.YP),this._deactivateSideline(e,!0)):this._logger.debug("Received a notification that corresponding sideline card is active, won't unpin sideline.",{sidelineId:e})})):this._logger.warn("Tried to unpin sideline that is not pinned, this is a no-op.",{sidelineId:e})}emphasizeSideline(e){this._logger.debug("Emphasizing sideline.",{sidelineId:e});const i=this._getSidelineById(e);g.pC(i)?this._emphasizedSideline.set(i):this._logger.warn("Tried to emphasized non-existing sideline, this is a no-op.")}unemphasizeSideline(e){this._logger.debug("Unemphasizing sideline.",{sidelineId:e}),this._doesSidelineIdMatchRelevantSideline(e,this._emphasizedSideline.get())?this._emphasizedSideline.set(g.YP):this._logger.warn("Tried to unemphasize sideline that is not emphasized, this is a no-op.",{sidelineId:e})}activateSideline(e){this._logger.debug("Activating sideline.",{sidelineId:e});const i=this._getSidelineById(e);g.pC(i)?(this._deactivateSidelineSubs.unsubscribe(),this._activeSideline.set(i),this.emphasizeSideline(e)):this._logger.warn("Tried to activate non-existing sideline, this is a no-op.",{sidelineId:e})}deactivateSideline(e){this._deactivateSideline(e)}pinSideline(e){this._logger.debug("Pinning sideline.",{sidelineId:e});const i=this._getSidelineById(e);g.pC(i)?(this._pinnedSideline.set(i),this.activateSideline(e)):this._logger.warn("Tried to pin non-existing sideline, this is a no-op.",{sidelineId:e})}unpinSideline(e){this._unpinSideline(e)}setSidelineReferenceElement(e,i){this._referenceElementBySidelineId.set(e,i)}getSidelineReferenceElement(e){return g.ij(this._referenceElementBySidelineId.get(e))}notifySidelineCardActive(e){this._sidelineCardActiveNotifications.next(e)}notifySidelineCardInactive(e,i){this._unpinSideline(e,i),this._deactivateSideline(e,i)}getSidelineById(e){return this._getSidelineById(e)}dispose(){this._subs.unsubscribe(),this._deactivateSidelineSubs.unsubscribe(),this._unpinSidelineSubs.unsubscribe()}}var U=t(78674),A=t(93508),O=t(54951),B=t(7604),V=t(68006),D=t(98017);function Y(e){let i=0,t=0;const r=[];for(;t<e.length;)"\n"===e.charAt(t)&&(i!==t&&r.push({start:i,end:t}),i=t+1),t++;return i!==t&&r.push({start:i,end:t}),r}class W{constructor(e){this._params=e,this._subs=new n.w,this._logger=c.Y.create("ParagraphHighlightServiceImpl"),this._highlightCollection=new O.C(this._params.geometryProvider,this._params.geometryLayout,(()=>this._params.textObserver.getCurrentTextMap()),(0,V.u)(),(0,B.WF)(this._params.textFieldLayout),(0,D.m)()),this.highlights=this._highlightCollection.geometry.view((e=>Array.from(e.values()))),this._subs.add(this._params.textObserver.contentChanges.async.pipe(y.h((e=>!e.deltaChange.isEmpty)),U.b(1e3),A.O(null),a.U((()=>{const e=this._params.textObserver.getCurrentTextMap().getPlainText();return{paragraphTextRanges:Y(e),fullText:e}}))).subscribe((({paragraphTextRanges:e,fullText:i})=>{this._logger.debug("Updating paragraph highlight collection.",{paragraphTextRanges:e});const t=Array.from(this._highlightCollection.geometry.get().keys());this._highlightCollection.removeHighlights(t);for(const t of e){const e=`g2-paragraph-${t.start}-${t.end}`,r=B.y$.Id.create(e);this._highlightCollection.addHighlight(r,t,{highlightId:r,paragraphId:e,paragraphText:i.slice(t.start,t.end),paragraphTextRange:t,alertId:e,highlightColor:null,highlightDisplayFormat:null,highlightLiveliness:null})}})))}dispose(){this._subs.unsubscribe()}}var H=t(61292),J=t(46297);class j{constructor(e){this._params=e,this._subs=new n.w,this._logger=c.Y.create("G2IntegrationGoogleDocs"),this._textFieldDOMRectTopLeft=l.h.create({top:0,left:0,width:0,height:0}),this.name="g2-google-docs-integration",this.textFieldDOMRectTopLeft=this._textFieldDOMRectTopLeft.view(),this._subs.add(this._params.textFieldLayout.rect.behavior.pipe(a.U((e=>{const i=this._params.textFieldElement.querySelector(J.gv);if(null!==i){const{top:e,left:t,width:r,height:n}=i.getBoundingClientRect();return{top:e,left:t,width:r,height:n}}return this._logger.warn("Failed to retrieve canvas content element, defaulting to text field layout rect, which may not be appropriate as a text field DOM rect for documents with pages."),{top:e.client.top,left:e.client.left,...e.size}}))).subscribe(s.wW(this._textFieldDOMRectTopLeft)))}dispose(){this._subs.unsubscribe()}}var $=t(18431);const Q={[$.u.gmailCompose]:22,[$.u.gmailReply]:22,[$.u.gmailComposeStandalone]:22,[$.u.gmailComposeFullScreen]:22,[$.u.slackMessage]:10,[$.u.slackGenericQuill]:10,[$.u.slackThread]:10};class q{constructor(e){this._params=e,this._subs=new n.w,this._logger=c.Y.create("G2IntegrationBase"),this._textFieldDOMRectTopLeft=l.h.create({top:0,left:0,width:0,height:0}),this.name="g2-base-integration",this.textFieldDOMRectTopLeft=this._textFieldDOMRectTopLeft.view(),this._subs.add(this._params.textFieldLayout.rect.behavior.pipe(a.U((e=>({top:e.client.top,left:e.client.left-this._getLeftOffset(),...e.size})))).subscribe(s.wW(this._textFieldDOMRectTopLeft)))}_getLeftOffset(){return this._params.integrationName in Q?function(e){return Q[e]}(this._params.integrationName):(this._logger.debug(`No left offset defined for integration with name "${this._params.integrationName}," defaulting to zero.`),0)}dispose(){this._subs.unsubscribe()}}var Z=t(10389);var K=t(8125),X=t(22232),ee=t(95195),ie=t(38788),te=t(60797),re=t(14717),ne=t(73915),ae=t(59502),se=t(2344);const le=ne.n(se.l7(ae.Schemable)({sensitiveDelta:ae.id()}))(se.rb).is;function de(e){return le(e)&&"disposable_cheetah:resultSuccess"===e.action}function oe(e){return le(e)&&"disposable_cheetah:resultFailure"===e.action}function ce(e){return{kind:"predefinedAction",actionIdentifier:{kind:"id",value:e}}}var he=t(8359);function pe(e){switch(e){case"improve":return ce("VBarG2DefaultRewrite");case"calliope":return ce("VBarG2Calliope");case"rephrase":return ce("VBarG2Paraphrase");case"shorten":return ce("VBarG2Shorter");case"friendly":return ce("VBarG2Friendly");case"formal":return ce("VBarG2Formal");default:(0,X.L0)(e)}}var ge=t(69243);const ue=ge.OT(ge.dt({explanation:ge.OT(ge.Z_),vbar_type:ge.OT(ge.G0([ge.i0("RED"),ge.i0("YELLOW"),ge.i0("GREEN")]))}));class me{constructor(e){this._params=e,this._subs=new n.w,this._logger=c.Y.create("RewriteServiceImpl"),this._relevantCapiMessages=this._params.checkingService.pipe(te.oA,C.w((e=>e.capiMessages)),y.h((0,K.Kg)(de,oe))),this._cachedRewriteIdMap=new Map,this._cachedRewriteMap=new Map,this._subs.add(this._relevantCapiMessages.subscribe((e=>this._handleServerMessage(e))))}_handleServerMessage(e){de(e)?this._handleServerMessageResultSuccess(e):oe(e)?this._handleServerMessageResultFailure(e):(0,X.L0)(e)}_handleServerMessageResultSuccess(e){const i=this._cachedRewriteMap.get(e.correlationId);if(void 0===i)this._logger.warn("Received a successful result with unknown correlation ID.",{resultSuccessMessage:e});else{const t=(0,d.zG)(function(e){if(void 0===e.debugInfoJson)return ee.left("Debug info JSON undefined.");try{const i=JSON.parse(e.debugInfoJson);return(0,d.zG)(ue.decode(i),ee.mapLeft((e=>"Failed to decode debug info JSON."+(e[0].message?`Reason: ${e[0].message}.`:""))))}catch(e){return ee.left(`Failed to parse debug info JSON. Reason: ${e}.`)}}(e),ee.mapLeft((e=>this._logger.error(`Failed to extract debug info from successful result. Reason: ${e}.`))),g.Uo),r={kind:"ready",id:i.get().id,type:i.get().type,text:i.get().text,textRange:i.get().textRange,title:(0,d.zG)(t,g.UI((e=>e.explanation)),g.pF((()=>{return"improve"===(e=i.get().type)?"Improve your text":"rephrase"===e?"Rephrase your text":"calliope"===e?"Refine your text":"shorten"===e?"Condense wordy sections":"friendly"===e?"Use a friendly tone":"formal"===e?"Use formal language":void(0,X.L0)(e);var e}))),color:(0,d.zG)(t,g.UI((e=>function(e){return"GREEN"==e.vbar_type?"green":"RED"===e.vbar_type?"red":"YELLOW"===e.vbar_type?"yellow":void(0,X.L0)(e.vbar_type)}(e))),g.pF((()=>{return"improve"===(e=i.get().type)?"red":"rephrase"===e||"calliope"===e||"formal"===e||"shorten"===e||"friendly"===e?"green":void(0,X.L0)(e);var e}))),rewriteText:e.rewrittenText,rewriteDelta:e.rewrittenTextDelta};this._logger.debug("Received a successful result; updating rewrite.",{rewriteBefore:i.get(),rewriteAfter:r}),i.set(r)}}_handleServerMessageResultFailure(e){const i=this._cachedRewriteMap.get(e.correlationId);if(void 0===i)this._logger.warn("Received a failed result with unknown correlation ID.",{resultFailureMessage:e});else{const t={kind:"error",id:i.get().id,type:i.get().type,text:i.get().text,textRange:i.get().textRange,errorReason:e.error};this._logger.debug("Received a failed result; updating rewrite.",{rewriteBefore:i.get(),rewriteAfter:t}),i.set(t)}}async getRewrite(e,i,t,r=!0){const n=(0,re.Wu)(i),a=`${e}-${t.start}-${t.end}-${n}`,s=this._cachedRewriteIdMap.get(a),d=void 0!==s?this._cachedRewriteMap.get(s):void 0,o=r&&void 0!==d&&"error"!==d.get().kind;if(o)return d;o||void 0===s||this._cachedRewriteMap.delete(s);const c=(0,ie.Z)();this._cachedRewriteIdMap.set(a,c);const h=l.h.create({kind:"loading",id:c,type:e,text:i,textRange:t});this._cachedRewriteMap.set(h.get().id,h);const p=this._params.checkingService.get();if(g.Wi(p))return this._logger.error("Failed to get rewrite. Checking service not initialized yet."),h.modify((e=>({...e,kind:"error",errorReason:"Failed to communicate with server."}))),h;const u=function(e){return{command:pe(e.type),correlationId:e.id,generationMode:he.s.Rewrite,textScope:{start:e.textRange.start,end:e.textRange.end},debugInfoJson:JSON.stringify({trackBackendTimings:!0}),meta:{trustResult:!0}}}(h.get());try{const e=await p.value.sendMessage("disposable_cheetah:invokeCommand",u,!0,!1)();if(ee.isLeft(e))throw e.left.message;return h}catch(e){return this._logger.error("Failed to get rewrite. Error sending  disposable_cheetah:invokeCommand message to CAPI.",{error:e}),h.modify((e=>({...e,kind:"error",errorReason:"Failed to communicate with server."}))),h}}dispose(){this._subs.unsubscribe()}}const we=r.lazy((()=>Promise.all([t.e(1125),t.e(2204),t.e(4255),t.e(274)]).then(t.bind(t,78019)).then((({SidelineCard:e})=>({default:e})))));var ve=t(62965),Se=t(28043);function fe(e){return"improve"===e}var _e=t(12126);var be=t(57757),Ce=t(89093);class Re{constructor(e){var i;this._params=e,this._subs=new n.w,this._logger=c.Y.create("SidelineCardViewModelImpl"),this._visibleSidelineCard=l.h.create(g.YP),this._visibleSidelineCardSelectedRewriteType=l.h.create("improve"),this._visibleSidelineCardImproveRewriteInfo=l.h.create(g.G({kind:"idle",type:"improve"})),this._visibleSidelineCardRephraseRewriteInfo=l.h.create(g.G({kind:"idle",type:"rephrase"})),this._visibleSidelineCardCalliopeRewriteInfo=l.h.create(g.YP),this._visibleSidelineCardShortenRewriteInfo=l.h.create(g.YP),this._visibleSidelineCardFriendlyRewriteInfo=l.h.create(g.YP),this._visibleSidelineCardFormalRewriteInfo=l.h.create(g.YP),this.visibleSidelineCard=this._visibleSidelineCard.view(),this.visibleSidelineCardRewriteInfo=l.h.combine(this._visibleSidelineCardImproveRewriteInfo,this._visibleSidelineCardRephraseRewriteInfo,this._visibleSidelineCardCalliopeRewriteInfo,this._visibleSidelineCardShortenRewriteInfo,this._visibleSidelineCardFriendlyRewriteInfo,this._visibleSidelineCardFormalRewriteInfo,((e,i,t,r,n,a)=>({improve:e,rephrase:i,calliope:t,shorten:r,friendly:n,formal:a}))),this._subs.add((i=this._params.sidelineCollectionViewModel,R.aj([i.activeSideline,i.pinnedSideline]).pipe(a.U((([e,i])=>(0,d.zG)(i,g.UI((e=>({sideline:e,isPinned:!0}))),g.wp((()=>(0,d.zG)(e,g.UI((e=>({sideline:e,isPinned:!1}))))))))),a.U(g.tS((({sideline:e,isPinned:t})=>(0,d.zG)(i.getSidelineReferenceElement(e.id),g.UI((i=>({sidelineId:e.id,isSidelinePinned:t,referenceElement:i}))))))))).subscribe(s.wW(this._visibleSidelineCard))),this._subs.add(this._visibleSidelineCard.pipe(a.U(g.UI((()=>({kind:"idle",type:"rephrase"}))))).subscribe(s.wW(this._visibleSidelineCardRephraseRewriteInfo))),this._subs.add(this._visibleSidelineCard.pipe(a.U(g.UI((()=>({kind:"idle",type:"improve"}))))).subscribe(s.wW(this._visibleSidelineCardImproveRewriteInfo))),this._subs.add(this._visibleSidelineCard.subscribe((()=>{this._visibleSidelineCardCalliopeRewriteInfo.set(g.YP),this._visibleSidelineCardShortenRewriteInfo.set(g.YP),this._visibleSidelineCardFriendlyRewriteInfo.set(g.YP),this._visibleSidelineCardFormalRewriteInfo.set(g.YP)})));const t=this._visibleSidelineCardSelectedRewriteType.pipe(Se.x(),y.h((0,Ce.ff)(fe)));this._subs.add(t.subscribe((()=>{this._visibleSidelineCardCalliopeRewriteInfo.set(g.G({kind:"idle",type:"calliope"})),this._visibleSidelineCardShortenRewriteInfo.set(g.G({kind:"idle",type:"shorten"})),this._visibleSidelineCardFriendlyRewriteInfo.set(g.G({kind:"idle",type:"friendly"})),this._visibleSidelineCardFormalRewriteInfo.set(g.G({kind:"idle",type:"formal"}))}))),this._subs.add(l.h.combine(this._visibleSidelineCardSelectedRewriteType,this.visibleSidelineCard,((e,i)=>[e,i])).pipe(C.w((([e,i])=>function(e,i,t,r,n){return(0,d.zG)(r,g.tS((i=>e.getSidelineById(i.sidelineId))),g.tS((e=>i.getParagraphById(e.paragraphId))),g.UI((e=>_e.D(t.getRewrite(n,e.text,e.textRange)).pipe(I.q(1),C.w(d.yR),a.U(g.G)))),g.pF((()=>T.of(g.YP))))}(this._params.sidelineCollectionViewModel,this._params.paragraphService,this._params.rewriteService,i,e).pipe(a.U((i=>({rewriteType:e,rewrite:i}))))))).subscribe((({rewriteType:e,rewrite:i})=>{switch(e){case"improve":this._visibleSidelineCardImproveRewriteInfo.set(i);break;case"rephrase":this._visibleSidelineCardRephraseRewriteInfo.set(i);break;case"calliope":this._visibleSidelineCardCalliopeRewriteInfo.set(i);break;case"shorten":this._visibleSidelineCardShortenRewriteInfo.set(i);break;case"friendly":this._visibleSidelineCardFriendlyRewriteInfo.set(i);break;case"formal":this._visibleSidelineCardFormalRewriteInfo.set(i);break;default:(0,X.L0)(e)}})))}activateSidelineCard(e){this._logger.debug("Activate sideline card.",{sidelineCard:e}),this._params.sidelineCollectionViewModel.notifySidelineCardActive(e.sidelineId)}deactivateSidelineCard(e){this._logger.debug("Deactivate sideline card.",{sidelineCard:e}),this._params.sidelineCollectionViewModel.notifySidelineCardInactive(e.sidelineId)}notifySelectedRewriteTypeChanged(e){this._logger.debug("Selected rewrite type changed.",{rewriteType:e}),this._visibleSidelineCardSelectedRewriteType.set(e)}applyRewrite(e,i){this._logger.debug("Apply rewrite.",{rewrite:e}),this._params.performReplacement({pos:e.textRange,value:e.rewriteText,oldValue:e.text}),this._params.sidelineCollectionViewModel.notifySidelineCardInactive(i.sidelineId,!0)}copyRewrite(e){return ve.Y3((()=>(0,be.vQ)(e.rewriteText)),ee.toError)}dispose(){this._subs.unsubscribe()}}var ye=t(3236);class Ie{constructor(e){this._params=e,this._subs=new n.w,this._logger=c.Y.create("G2FeatureImpl"),this._alertFilter=l.h.create(d.W8),this._integration=(0,H.a9)(this._params.integrationName)?new j({textFieldLayout:this._params.textFieldLayout,textFieldElement:this._params.textFieldElement}):new q({textFieldLayout:this._params.textFieldLayout,integrationName:this._params.integrationName}),this._rewriteService=new me({checkingService:this._params.checkingService}),this._paragraphHighlightService=new W({textObserver:this._params.textObserver,geometryProvider:this._params.geometryProvider,geometryLayout:this._params.geometryLayout,textFieldLayout:this._params.textFieldLayout}),this._paragraphService=new S({paragraphHighlightService:this._paragraphHighlightService,textFieldElement:this._params.textFieldElement,mouseData:this._params.mouseData}),this._sidelineCollectionViewModel=new N({paragraphService:this._paragraphService,integration:this._integration,textFieldLayout:this._params.textFieldLayout,textObserver:this._params.textObserver,alerts:this._params.alertProcessor.alerts.state.view((e=>Object.values(e).filter(k.Nf).filter(o.S.isTransformJsonCapiAlert)))}),this._replacementService=this._params.replacementServiceInjector.create(ye.P.g2),this._sidelineCardViewModel=new Re({rewriteService:this._rewriteService,paragraphService:this._paragraphService,sidelineCollectionViewModel:this._sidelineCollectionViewModel,performReplacement:e=>this._replacementService.performReplacement(e)}),this.alertFilter=this._alertFilter.view(),this._logger.debug("G2 initialized on:",this._params.integrationName),this._subs.add(this._params.alertClassification.visibleInlineAlertsFilter.pipe(a.U((e=>i=>{return e(i)&&(t=i,o.S.isTransformJsonCapiAlert(t)&&t.outcome===Z.TC.correctness&&t.transformJSON.highlights.every((e=>"enclosing"!==e.type)));var t}))).subscribe(s.wW(this._alertFilter)))}get paragraphHighlightsUI(){return r.createElement(r.Suspense,{fallback:r.createElement(r.Fragment,null)},r.createElement(f,{paragraphs:this._paragraphService.paragraphs,activeSideline:this._sidelineCollectionViewModel.activeSideline,pinnedSideline:this._sidelineCollectionViewModel.pinnedSideline}))}get sidelinesUI(){return r.createElement(r.Suspense,{fallback:r.createElement(r.Fragment,null)},r.createElement(_,{sidelines:this._sidelineCollectionViewModel.sidelines,emphasizedParagraph:this._paragraphService.emphasizedParagraph,emphasizedSideline:this._sidelineCollectionViewModel.emphasizedSideline,activeSideline:this._sidelineCollectionViewModel.activeSideline,pinnedSideline:this._sidelineCollectionViewModel.pinnedSideline,onEmphasizeSideline:e=>this._sidelineCollectionViewModel.emphasizeSideline(e),onUnemphasizeSideline:e=>this._sidelineCollectionViewModel.unemphasizeSideline(e),onActivateSideline:e=>this._sidelineCollectionViewModel.activateSideline(e),onDeactivateSideline:e=>this._sidelineCollectionViewModel.deactivateSideline(e),onPinSideline:e=>this._sidelineCollectionViewModel.pinSideline(e),onUnpinSideline:e=>this._sidelineCollectionViewModel.unpinSideline(e),onMountSideline:(e,i)=>this._sidelineCollectionViewModel.setSidelineReferenceElement(e,i)}))}get sidelineCardUI(){return r.createElement(r.Suspense,{fallback:r.createElement(r.Fragment,null)},r.createElement(we,{visibleSidelineCard:this._sidelineCardViewModel.visibleSidelineCard,visibleSidelineCardRewriteInfo:this._sidelineCardViewModel.visibleSidelineCardRewriteInfo,onActivateSidelineCard:e=>this._sidelineCardViewModel.activateSidelineCard(e),onDeactivateSidelineCard:e=>this._sidelineCardViewModel.deactivateSidelineCard(e),onChangeSelectedRewriteType:e=>this._sidelineCardViewModel.notifySelectedRewriteTypeChanged(e),onApplyRewrite:(e,i)=>this._sidelineCardViewModel.applyRewrite(e,i),onCopyRewrite:e=>this._sidelineCardViewModel.copyRewrite(e)}))}dispose(){this._subs.unsubscribe(),this._rewriteService.dispose(),this._paragraphHighlightService.dispose(),this._paragraphService.dispose(),this._sidelineCollectionViewModel.dispose(),this._sidelineCardViewModel.dispose(),this._integration.dispose()}}},30494:(e,i,t)=>{t.r(i),t.d(i,{ParagraphHighlightCollection:()=>h});var r=t(5114),n=t(8543),a=t(23239),s=t(54001),l=t(57050),d=t(27378),o=t(41572),c=t(14711);const h=({paragraphs:e,activeSideline:i,pinnedSideline:t})=>d.createElement(n.F.Fragment,null,a.h.combine(e,i,t,((e,i,t)=>d.createElement(o.L,{key:"g2",chunkName:"g2"},e.map((e=>e.highlightRects.map(((n,a)=>{return d.createElement("div",{key:`${e.id}-${a}`,...(0,s.Sh)(c.paragraphHighlightRect,(o=e.id,h=(0,l.zG)(t,r.UI((e=>e.paragraphId))),p=(0,l.zG)(i,r.UI((e=>e.paragraphId))),(0,l.zG)(h,r.UI((e=>e===o)),r.wp((()=>(0,l.zG)(p,r.UI((e=>e===o))))),r.fS((()=>!1)))?c.paragraphHighlightRectActive:void 0)),style:{top:n.top,left:n.left,width:n.width,height:n.height}});var o,h,p}))))))))},78019:(e,i,t)=>{t.r(i),t.d(i,{SidelineCard:()=>D});var r=t(8543),n=t(27378),a=t(37869),s=t(17434);const l=({referenceElement:e,onMouseEnter:i,onMouseLeave:t,onFocus:r,onBlur:l,children:d})=>{const[o,c]=n.useState(null),{styles:h,attributes:p,state:g}=(0,a.D)(e,o,{placement:"bottom-start"});return n.createElement("div",{role:"dialog","aria-label":"Suggested rewrite dialog",tabIndex:0,ref:c,style:h.popper,className:s.sidelineCardPopper,onMouseEnter:i,onMouseLeave:t,onFocus:r,onBlur:l,...p.popper},d(null==g?void 0:g.placement))};var d=t(22232),o=t(73168);const c=()=>n.createElement("div",{className:o.sidelineCardRewriteLoadingSkeleton,"data-testid":"grammarly-g2-sideline-card-rewrite-loading-skeleton"},n.createElement("div",{className:o.sidelineCardRewriteLoadingSkeletonSignal}),n.createElement("div",{className:o.sidelineCardRewriteLoadingSkeletonContent},n.createElement("div",{className:o.sidelineCardRewriteLoadingSkeletonContentTitle}),n.createElement("div",{className:o.sidelineCardRewriteLoadingSkeletonContentText},n.createElement("div",{className:o.sidelineCardRewriteLoadingSkeletonContentTextLine}),n.createElement("div",{className:o.sidelineCardRewriteLoadingSkeletonContentTextLine}),n.createElement("div",{className:o.sidelineCardRewriteLoadingSkeletonContentTextLine}))));var h=t(6861),p=t(46354),g=t(40223),u=t(40938),m=t(98685);const w=({title:e,text:i})=>n.createElement("div",{className:h.sidelineCardRewriteSuccess,"data-testid":"grammarly-g2-sideline-card-rewrite-success"},n.createElement("div",{className:h.sidelineCardRewriteSuccessMain,"data-testid":"grammarly-g2-sideline-card-rewrite-success-main"},n.createElement(p.J,{size:"small",accessibilityLabel:"",icon:g.j}),n.createElement("div",{className:h.sidelineCardRewriteSuccessMainContent,"data-testid":"grammarly-g2-sideline-card-rewrite-success-main-content"},n.createElement(u.x,{className:h.sidelineCardRewriteSuccessMainContentTitle,as:"strong",color:"brand-default",variant:"text-small"},e),n.createElement(u.x,{as:"p",variant:"text-small",color:"base-subdued"},i))),n.createElement("div",{className:h.sidelineCardRewriteSuccessFooter,"data-testid":"grammarly-g2-sideline-card-rewrite-success-footer"},n.createElement(p.J,{size:"small",icon:m.p,accessibilityLabel:"Grammarly logo"})));var v=t(43043),S=t(54001),f=t(46420),_=t(95195),b=t(2410),C=t(77773),R=t(96833),y=t(57050),I=t(55649),x=t(35574);const E=e=>{const i=n.useRef(I.Y.create("SidelineCardRewriteCopyButton")),[t,r]=n.useState(!1),a=n.useRef(void 0),s=n.useCallback((()=>{void 0!==a.current&&(self.clearTimeout(a.current),a.current=void 0)}),[]);n.useEffect(s,[]);return n.createElement(b.k,{className:x.sidelineCardRewriteCopyButton},t&&n.createElement(b.k,{className:x.sidelineCardRewriteCopyButtonCopyConfirmation,bgColor:"background-base-default"},n.createElement(u.x,{as:"p",variant:"text-xsmall",color:"base-subdued"},"Copied")),n.createElement(C.h,{variant:"tertiary",accessibilityLabel:"Copy",icon:R.c,size:"small",onClick:async()=>{(0,y.zG)(await e.onClick(),_.match((e=>{i.current.error("Failed to copy rewrite.",e)}),(()=>{r(!0),s(),a.current=self.setTimeout((()=>{r(!1)}),3e3)})))}}))};function T(e){return"none"===e?void 0:"red"===e?v.sidelineCardRewriteReadyContentTitleRed:"purple"===e?v.sidelineCardRewriteReadyContentTitlePurple:"green"===e?v.sidelineCardRewriteReadyContentTitleGreen:"yellow"===e?v.sidelineCardRewriteReadyContentTitleYellow:(0,d.L0)(e)}const k=e=>{return n.createElement("div",{className:v.sidelineCardRewriteReady,"data-testid":"grammarly-g2-sideline-card-rewrite-ready"},n.createElement("div",{...(0,S.Sh)(v.sidelineCardRewriteReadySignal,(i=e.signalColor,"none"===i?void 0:"red"===i?v.sidelineCardRewriteReadySignalRed:"purple"===i?v.sidelineCardRewriteReadySignalPurple:"green"===i?v.sidelineCardRewriteReadySignalGreen:"yellow"===i?v.sidelineCardRewriteReadySignalYellow:(0,d.L0)(i))),"data-testid":"grammarly-g2-sideline-card-rewrite-ready-signal"}),n.createElement("div",{className:v.sidelineCardRewriteReadyContent,"data-testid":"grammarly-g2-sideline-card-rewrite-ready-content"},n.createElement(u.x,{...(0,S.Sh)(v.sidelineCardRewriteReadyContentTitle,T(e.signalColor)),as:"strong",variant:"text-small"},e.title),n.createElement(u.x,{as:"p",variant:"text-small"},e.newText),n.createElement("div",{className:v.sidelineCardRewriteReadyContentToolbar,"data-testid":"grammarly-g2-sideline-card-rewrite-ready-content-toolbar"},n.createElement("div",{className:v.sidelineCardRewriteReadyContentToolbarLeft,"data-testid":"grammarly-g2-sideline-card-rewrite-ready-content-toolbar-left"},n.createElement(f.z,{variant:"secondary",text:"apply"===e.applyCTA?"Apply all":"Insert",shortcut:"↵",size:"small",onClick:e.onApply})),n.createElement("div",{className:v.sidelineCardRewriteReadyContentToolbarRight,"data-testid":"grammarly-g2-sideline-card-rewrite-ready-content-toolbar-right"},n.createElement(E,{onClick:e.onCopy}),n.createElement(p.J,{size:"small",icon:m.p,accessibilityLabel:"Grammarly logo"})))));var i};var M=t(94504),F=t(12271);function L(e){switch(e){case"SENSITIVE_CONTENT":return["Assistance unavailable","Grammarly can't help with this due to potentially sensitive content. Try something different."];case"WRONG_REVISION":case"USER_TEXT_BLANK":case"NO_PROMPTS":case"UNKNOWN_CLIENT_REQUEST":case"EXCEPTION":return["Couldn’t generate ideas","Please wait a moment, then try again."];default:return[e,"Please wait a moment, then try again."]}}const z=({errorReason:e})=>n.createElement(b.k,{direction:"column",align:"center",gap:.5,padding:8,"data-testid":"grammarly-g2-sideline-card-rewrite-error"},n.createElement(p.J,{icon:M.F,size:"large",variant:"warning",accessibilityLabel:"","data-testid":"grammarly-g2-sideline-card-rewrite-error-icon"}),n.createElement(u.x,{as:"p",variant:"text-medium",color:"base-default",align:"center","data-testid":"grammarly-g2-sideline-card-rewrite-error-title"},(0,F.li)(L(e))),n.createElement(u.x,{as:"p",variant:"text-small",color:"base-subdued",align:"center","data-testid":"grammarly-g2-sideline-card-rewrite-error-subtitle"},(0,F.Yg)(L(e)))),P=e=>n.createElement("div",{role:"region","aria-live":"error"===e.kind?"assertive":"polite","aria-busy":"loading"===e.kind,"aria-label":G(e.kind),"data-testid":"grammarly-g2-sideline-card-rewrite"},(()=>{switch(e.kind){case"loading":return n.createElement(c,null);case"ready":return n.createElement(k,{signalColor:e.signalColor,title:e.title,originalText:e.originalText,newText:e.newText,applyCTA:e.applyCTA,onApply:e.onApply,onCopy:e.onCopy});case"success":return n.createElement(w,{title:e.title,text:e.text});case"error":return n.createElement(z,{errorReason:e.errorReason});default:(0,d.L0)(e)}})());function G(e){switch(e){case"loading":return"Loading suggested rewrite";case"ready":case"success":return"Suggested rewrite";case"error":return"An error occurred";default:(0,d.L0)(e)}}var N=t(50995),U=t(27181);const A=({shortenRewriteInfo:e,friendlyRewriteInfo:i,formalRewriteInfo:t})=>n.createElement(U.m.TabList,{accessibilityLabel:"Type of rewrite",bottomBorder:"none"},n.createElement(U.m.Tab,{id:"improve",label:"Improve"}),n.createElement(U.m.Tab,{id:"rephrase",label:"Rephrase"}),e?n.createElement(U.m.Tab,{id:"shorten",label:"Shorten"}):null,i?n.createElement(U.m.Tab,{id:"friendly",label:"Friendly"}):null,t?n.createElement(U.m.Tab,{id:"formal",label:"Formal"}):null),O=({improveRewriteInfo:e,rephraseRewriteInfo:i,shortenRewriteInfo:t,friendlyRewriteInfo:r,formalRewriteInfo:a})=>n.createElement(n.Fragment,null,n.createElement(U.m.Panel,{id:"improve"},n.createElement(P,{...e})),n.createElement(U.m.Panel,{id:"rephrase"},n.createElement(P,{...i})),t?n.createElement(U.m.Panel,{id:"shorten"},n.createElement(P,{...t})):null,r?n.createElement(U.m.Panel,{id:"friendly"},n.createElement(P,{...r})):null,a?n.createElement(U.m.Panel,{id:"formal"},n.createElement(P,{...a})):null),B=({tabListPosition:e,improveRewriteInfo:i,rephraseRewriteInfo:t,shortenRewriteInfo:r,friendlyRewriteInfo:a,formalRewriteInfo:s,onChangeSelectedRewriteType:l})=>{const d=n.createElement(A,{shortenRewriteInfo:r,friendlyRewriteInfo:a,formalRewriteInfo:s}),o=n.createElement(O,{improveRewriteInfo:i,rephraseRewriteInfo:t,shortenRewriteInfo:r,friendlyRewriteInfo:a,formalRewriteInfo:s});return n.createElement("div",{className:N.sidelineCard,"data-testid":"grammarly-g2-sideline-card"},n.createElement(U.m,{defaultSelectedTab:"improve",onChange:e=>l(e)},"top"===e?d:o,n.createElement("div",{className:N.sidelineCardHorizontalDivider}),"bottom"===e?d:o))};var V=t(5114);const D=({visibleSidelineCard:e,visibleSidelineCardRewriteInfo:i,onActivateSidelineCard:t,onDeactivateSidelineCard:a,onChangeSelectedRewriteType:s,onApplyRewrite:o,onCopyRewrite:c})=>{const h=(e,i)=>(0,y.zG)(e,V.UI((e=>function(e,i,t){return"loading"===e.kind||"idle"===e.kind?{kind:"loading"}:"ready"===e.kind?e.text===e.rewriteText?{kind:"success",title:"This text looks great!",text:"To rephrase your text, select another option."}:{kind:"ready",title:e.title,signalColor:e.color,originalText:e.text,newText:e.rewriteText,applyCTA:"improve"===e.type?"apply":"insert",onApply:()=>i(e),onCopy:t(e)}:"error"===e.kind?{kind:"error",errorReason:e.errorReason}:void(0,d.L0)(e)}(e,(e=>o(e,i)),(e=>c(e))))));return n.createElement(r.F.Fragment,null,e.view((0,y.ls)(V.UI((e=>n.createElement(l,{referenceElement:e.referenceElement,onMouseEnter:()=>t(e),onMouseLeave:()=>{e.isSidelinePinned||a(e)},onFocus:()=>t(e),onBlur:()=>a(e)},(t=>n.createElement(r.F.Fragment,null,i.view((({improve:i,rephrase:r,shorten:a,friendly:l,formal:d})=>n.createElement(B,{tabListPosition:"bottom"===t||"bottom-end"===t||"bottom-start"===t?"top":"bottom",improveRewriteInfo:(0,y.zG)(h(i,e),V.pF((()=>({kind:"loading"})))),rephraseRewriteInfo:(0,y.zG)(h(r,e),V.pF((()=>({kind:"loading"})))),shortenRewriteInfo:(0,y.zG)(h(a,e),V.pF((()=>{}))),friendlyRewriteInfo:(0,y.zG)(h(l,e),V.pF((()=>{}))),formalRewriteInfo:(0,y.zG)(h(d,e),V.pF((()=>{}))),onChangeSelectedRewriteType:e=>s(e)})))))))),V.WG)))}},65211:(e,i,t)=>{t.r(i),t.d(i,{SidelineCollection:()=>v});var r=t(5114),n=t(8543),a=t(23239),s=t(57050),l=t(27378),d=t(41572),o=t(54001),c=t(38527),h=t(46354),p=t(80463),g=t(22232);const u=l.forwardRef((function({emphasized:e,signalColor:i,fillColor:t,height:r,onClick:n,onMouseOver:a,onMouseOut:s,onFocus:d,onBlur:u},m){return l.createElement("button",{"data-testid":"grammarly-g2-sideline",...(0,o.Sh)(c.sideline,e?c.sidelineEmphasized:c.sidelineIdle,"blue"===t?c.sidelineFillBlue:void 0),style:{height:r},disabled:!e,onClick:e?n:void 0,onFocus:e?d:void 0,onBlur:e?u:void 0,onMouseOver:a,onMouseOut:s,"aria-label":"See rewrite suggestions",ref:m},"none"!==i&&l.createElement("div",{...(0,o.Sh)(c.sidelineSignal,(e=>{switch(e){case"none":return;case"red":return c.sidelineSignalRed;case"purple":return c.sidelineSignalPurple;case"green":return c.sidelineSignalGreen;case"yellow":return c.sidelineSignalYellow;default:(0,g.L0)(e)}})(i)),role:"status","aria-label":"Rewrite suggestions available"}),l.createElement(h.J,{...(0,o.Sh)(c.sidelineArrow,e?c.sidelineArrowEmphasized:c.sidelineArrowIdle),icon:p.b,accessibilityLabel:"",size:"small",variant:"none"!==t?"inverse":"default"}))}));var m=t(63954);function w(e,i,t,n,a){return(0,s.zG)(i,r.UI((i=>i===e.id)),r.fS((()=>(0,s.zG)(t,r.UI((i=>i===e.id)),r.fS((()=>!1)))||(0,s.zG)(n,r.UI((i=>i===e.id)),r.fS((()=>!1)))||(0,s.zG)(a,r.UI((i=>i===e.paragraphId)),r.fS((()=>!1))))))}const v=({sidelines:e,emphasizedParagraph:i,emphasizedSideline:t,activeSideline:o,pinnedSideline:c,onEmphasizeSideline:h,onUnemphasizeSideline:p,onActivateSideline:g,onDeactivateSideline:v,onPinSideline:S,onUnpinSideline:f,onMountSideline:_})=>l.createElement(n.F.Fragment,null,a.h.combine(e,i,t,o,c,((e,i,t,a,o)=>l.createElement(d.L,{key:"g2",chunkName:"g2"},e.map((e=>l.createElement(n.F.span,{key:e.id,className:m.sidelinePositioner,style:{top:e.anchorRect.top,left:e.textFieldDOMRectTopLeft.left,width:e.anchorRect.left-e.textFieldDOMRectTopLeft.left},onMouseEnter:()=>h(e.id),onMouseLeave:()=>p(e.id)},l.createElement(u,{fillColor:"none",emphasized:w(e,(0,s.zG)(o,r.UI((e=>e.id))),(0,s.zG)(a,r.UI((e=>e.id))),(0,s.zG)(t,r.UI((e=>e.id))),(0,s.zG)(i,r.UI((e=>e.id)))),signalColor:e.signalColor,height:e.anchorRect.height,onClick:()=>S(e.id),onFocus:()=>S(e.id),onBlur:()=>f(e.id),onMouseOver:()=>g(e.id),onMouseOut:()=>v(e.id),ref:i=>{i&&_(e.id,i)}}))))))))},46297:(e,i,t)=>{t.d(i,{$x:()=>s,F8:()=>u,Go:()=>n,Kt:()=>b,Lq:()=>o,Q2:()=>f,QR:()=>E,Qy:()=>v,Vk:()=>C,Wp:()=>r,XG:()=>a,_m:()=>p,d0:()=>c,f:()=>d,gH:()=>w,gL:()=>R,gv:()=>m,ij:()=>x,j5:()=>_,jW:()=>g,lO:()=>I,os:()=>S,rx:()=>y,uj:()=>h,y1:()=>l});const r=".kix-appview-editor",n=".docos-input",a=".docs-texteventtarget-iframe",s=".kix-cursor",l=".kix-cursor-caret",d="#docs-revisions-sidebar",o='#docs-toolbar-mode-switcher[aria-label="Viewing mode"]',c="#docs-toolbar-mode-switcher",h="edit-mode",p="suggest-mode",g="#titlebar-mode-indicator-container .titlebar-request-access-button",u="#titlebar-mode-indicator-container .kix-titlebar-request-access-button",m=".kix-canvas-tile-content",w="canvas.kix-canvas-tile-content:not(.docs-ui-unprintable *)",v=".kix-rotatingtilemanager:not(.docs-ui-unprintable *)",S=".kix-page-paginated.canvas-first-page",f="kix-page-canvas-compact-mode",_=".docs-horizontal-ruler",b=".docs-vertical-ruler",C="#fontSizeSelect input",R=".docs-ruler-background",y=".docs-ruler-background-inner",I=".docs-ruler-indent-first-line",x=".modal-dialog.docs-dialog .fatal-error-message",E='#docs-titlebar-share-client-button div[role="button"]'},18431:(e,i,t)=>{var r;t.d(i,{u:()=>r}),function(e){e.gmailReply="Gmail reply compose",e.gmailCompose="compose",e.gmailComposeStandalone="compose standalone",e.gmailComposeFullScreen="compose fullscreen",e.slackMessage="Slack Message",e.slackGenericQuill="Slack Generic Quill",e.slackThread="Slack Thread"}(r||(r={}))},57757:(e,i,t)=>{t.d(i,{Sz:()=>a,vQ:()=>n});var r=t(95195);async function n(e,i=self){if(function(e=self){var i,t;return!!(null===(t=null===(i=e.navigator)||void 0===i?void 0:i.clipboard)||void 0===t?void 0:t.writeText)}(i))return i.navigator.clipboard.writeText(e);throw new Error("Clipboard API not supported")}function a(e,i=self){return n(e,i).then((()=>r.right(void 0))).catch((e=>r.left(e instanceof Error?e:new Error(String(e)))))}},14717:(e,i,t)=>{function r(e,i=0){return(i<<5)-i+(0|e)|0}function n(e,i=0){let t=i;for(const i of e)t=r(i.charCodeAt(0),t);return t}t.d(i,{Wu:()=>n,k3:()=>r})},38527:e=>{e.exports={sideline:"G2vdT",sidelineEmphasized:"tw3gA",sidelineFillBlue:"ZsMnT",sidelineSignal:"E4ZA7",sidelineSignalRed:"NJZzh",sidelineSignalPurple:"bXbHB",sidelineSignalGreen:"sk2KB",sidelineSignalYellow:"qnAys",sidelineArrow:"Ihuz1",sidelineArrowIdle:"MpTE8",sidelineArrowEmphasized:"w8HJv"}},50995:e=>{e.exports={sidelineCard:"KetZV",sidelineCardHorizontalDivider:"d96oB"}},17434:e=>{e.exports={sidelineCardPopper:"m2vlI"}},35574:e=>{e.exports={sidelineCardRewriteCopyButton:"_kIwY",sidelineCardRewriteCopyButtonCopyConfirmation:"eH5TV"}},73168:e=>{e.exports={sidelineCardRewriteLoadingSkeleton:"AZpqD",sidelineCardRewriteLoadingSkeletonSignal:"QmlkU",blink:"ME70b",sidelineCardRewriteLoadingSkeletonContent:"pCdaZ",sidelineCardRewriteLoadingSkeletonContentTitle:"njaNp",sidelineCardRewriteLoadingSkeletonContentText:"tFJmW",sidelineCardRewriteLoadingSkeletonContentTextLine:"CUydw"}},43043:e=>{e.exports={sidelineCardRewriteReady:"aC0Qq",sidelineCardRewriteReadySignal:"dwkGU",sidelineCardRewriteReadySignalRed:"j4c27",sidelineCardRewriteReadySignalPurple:"PAZPX",sidelineCardRewriteReadySignalGreen:"RQGEa",sidelineCardRewriteReadySignalYellow:"b0g8Y",sidelineCardRewriteReadyContent:"ANoVu",sidelineCardRewriteReadyContentTitle:"JruGr",sidelineCardRewriteReadyContentTitleRed:"u62sm",sidelineCardRewriteReadyContentTitlePurple:"O2bNp",sidelineCardRewriteReadyContentTitleGreen:"f5U00",sidelineCardRewriteReadyContentTitleYellow:"i_77I",sidelineCardRewriteReadyContentToolbar:"AkoCa",sidelineCardRewriteReadyContentToolbarLeft:"Fl51m",sidelineCardRewriteReadyContentToolbarRight:"UPwBp"}},6861:e=>{e.exports={sidelineCardRewriteSuccess:"qCfRi",sidelineCardRewriteSuccessMain:"EHpcl",sidelineCardRewriteSuccessMainContent:"YnX7U",sidelineCardRewriteSuccessMainContentTitle:"KYYEg",sidelineCardRewriteSuccessFooter:"mKGH0"}},14711:e=>{e.exports={paragraphHighlightRect:"gvgre",paragraphHighlightRectActive:"oE69j"}},63954:e=>{e.exports={sidelinePositioner:"lx6ct"}}}]);